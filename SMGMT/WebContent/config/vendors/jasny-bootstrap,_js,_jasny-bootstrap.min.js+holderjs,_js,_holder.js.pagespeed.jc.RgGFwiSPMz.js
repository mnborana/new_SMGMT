var mod_pagespeed_RMC01kFxxA = "if(\"undefined\"==typeof jQuery)throw new Error(\"Jasny Bootstrap's JavaScript requires jQuery\");+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}void 0===a.support.transition&&(a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()}))}(window.jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),a(window).on(\"resize\",a.proxy(this.recalc,this))),this.options.autohide&&a(document).on(\"click\",a.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};b.DEFAULTS={toggle:!0,placement:\"auto\",autohide:!0,recalc:!0,disableScrolling:!0},b.prototype.offset=function(){switch(this.placement){case\"left\":case\"right\":return this.$element.outerWidth();case\"top\":case\"bottom\":return this.$element.outerHeight()}},b.prototype.calcPlacement=function(){function b(a,b){if(\"auto\"===e.css(b))return a;if(\"auto\"===e.css(a))return b;var c=parseInt(e.css(a),10),d=parseInt(e.css(b),10);return c>d?b:a}if(\"auto\"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass(\"in\")||this.$element.css(\"visiblity\",\"hidden !important\").addClass(\"in\");var c=a(window).width()/this.$element.width(),d=a(window).height()/this.$element.height(),e=this.$element;this.placement=c>=d?b(\"left\",\"right\"):b(\"top\",\"bottom\"),\"hidden !important\"===this.$element.css(\"visibility\")&&this.$element.removeClass(\"in\").css(\"visiblity\",\"\")},b.prototype.opposite=function(a){switch(a){case\"top\":return\"bottom\";case\"left\":return\"right\";case\"bottom\":return\"top\";case\"right\":return\"left\"}},b.prototype.getCanvasElements=function(){var b=this.options.canvas?a(this.options.canvas):this.$element,c=b.find(\"*\").filter(function(){return\"fixed\"===a(this).css(\"position\")}).not(this.options.exclude);return b.add(c)},b.prototype.slide=function(b,c,d){if(!a.support.transition){var e={};return e[this.placement]=\"+=\"+c,b.animate(e,350,d)}var f=this.placement,g=this.opposite(f);b.each(function(){\"auto\"!==a(this).css(f)&&a(this).css(f,(parseInt(a(this).css(f),10)||0)+c),\"auto\"!==a(this).css(g)&&a(this).css(g,(parseInt(a(this).css(g),10)||0)-c)}),this.$element.one(a.support.transition.end,d).emulateTransitionEnd(350)},b.prototype.disableScrolling=function(){var b=a(\"body\").width(),c=\"padding-\"+this.opposite(this.placement);if(void 0===a(\"body\").data(\"offcanvas-style\")&&a(\"body\").data(\"offcanvas-style\",a(\"body\").attr(\"style\")||\"\"),a(\"body\").css(\"overflow\",\"hidden\"),a(\"body\").width()>b){var d=parseInt(a(\"body\").css(c),10)+a(\"body\").width()-b;setTimeout(function(){a(\"body\").css(c,d)},1)}},b.prototype.show=function(){if(!this.state){var b=a.Event(\"show.bs.offcanvas\");if(this.$element.trigger(b),!b.isDefaultPrevented()){this.state=\"slide-in\",this.calcPlacement();var c=this.getCanvasElements(),d=this.placement,e=this.opposite(d),f=this.offset();-1!==c.index(this.$element)&&(a(this.$element).data(\"offcanvas-style\",a(this.$element).attr(\"style\")||\"\"),this.$element.css(d,-1*f),this.$element.css(d)),c.addClass(\"canvas-sliding\").each(function(){void 0===a(this).data(\"offcanvas-style\")&&a(this).data(\"offcanvas-style\",a(this).attr(\"style\")||\"\"),\"static\"===a(this).css(\"position\")&&a(this).css(\"position\",\"relative\"),\"auto\"!==a(this).css(d)&&\"0px\"!==a(this).css(d)||\"auto\"!==a(this).css(e)&&\"0px\"!==a(this).css(e)||a(this).css(d,0)}),this.options.disableScrolling&&this.disableScrolling();var g=function(){\"slide-in\"==this.state&&(this.state=\"slid\",c.removeClass(\"canvas-sliding\").addClass(\"canvas-slid\"),this.$element.trigger(\"shown.bs.offcanvas\"))};setTimeout(a.proxy(function(){this.$element.addClass(\"in\"),this.slide(c,f,a.proxy(g,this))},this),1)}}},b.prototype.hide=function(){if(\"slid\"===this.state){var b=a.Event(\"hide.bs.offcanvas\");if(this.$element.trigger(b),!b.isDefaultPrevented()){this.state=\"slide-out\";var c=a(\".canvas-slid\"),d=(this.placement,-1*this.offset()),e=function(){\"slide-out\"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass(\"in\"),c.removeClass(\"canvas-sliding\"),c.add(this.$element).add(\"body\").each(function(){a(this).attr(\"style\",a(this).data(\"offcanvas-style\")).removeData(\"offcanvas-style\")}),this.$element.trigger(\"hidden.bs.offcanvas\"))};c.removeClass(\"canvas-slid\").addClass(\"canvas-sliding\"),setTimeout(a.proxy(function(){this.slide(c,d,a.proxy(e,this))},this),1)}}},b.prototype.toggle=function(){\"slide-in\"!==this.state&&\"slide-out\"!==this.state&&this[\"slid\"===this.state?\"hide\":\"show\"]()},b.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html(\"\").addClass(\"offcanvas-clone\").removeClass(\"in\").appendTo(a(\"body\"))},b.prototype.recalc=function(){if(\"none\"!==this.$calcClone.css(\"display\")&&(\"slid\"===this.state||\"slide-in\"===this.state)){this.state=null,this.placement=null;var b=this.getCanvasElements();this.$element.removeClass(\"in\"),b.removeClass(\"canvas-slid\"),b.add(this.$element).add(\"body\").each(function(){a(this).attr(\"style\",a(this).data(\"offcanvas-style\")).removeData(\"offcanvas-style\")})}},b.prototype.autohide=function(b){0===a(b.target).closest(this.$element).length&&this.hide()};var c=a.fn.offcanvas;a.fn.offcanvas=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.offcanvas\"),f=a.extend({},b.DEFAULTS,d.data(),\"object\"==typeof c&&c);e||d.data(\"bs.offcanvas\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})},a.fn.offcanvas.Constructor=b,a.fn.offcanvas.noConflict=function(){return a.fn.offcanvas=c,this},a(document).on(\"click.bs.offcanvas.data-api\",\"[data-toggle=offcanvas]\",function(b){var c,d=a(this),e=d.attr(\"data-target\")||b.preventDefault()||(c=d.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\"),f=a(e),g=f.data(\"bs.offcanvas\"),h=g?\"toggle\":d.data();b.stopPropagation(),g?g.toggle():f.offcanvas(h)})}(window.jQuery),+function(a){\"use strict\";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.$element.on(\"click.bs.rowlink\",\"td:not(.rowlink-skip)\",a.proxy(this.click,this))};b.DEFAULTS={target:\"a\"},b.prototype.click=function(b){var c=a(b.currentTarget).closest(\"tr\").find(this.options.target)[0];if(a(b.target)[0]!==c)if(b.preventDefault(),c.click)c.click();else if(document.createEvent){var d=document.createEvent(\"MouseEvents\");d.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}};var c=a.fn.rowlink;a.fn.rowlink=function(c){return this.each(function(){var d=a(this),e=d.data(\"bs.rowlink\");e||d.data(\"bs.rowlink\",e=new b(this,c))})},a.fn.rowlink.Constructor=b,a.fn.rowlink.noConflict=function(){return a.fn.rowlink=c,this},a(document).on(\"click.bs.rowlink.data-api\",'[data-link=\"row\"]',function(b){if(0===a(b.target).closest(\".rowlink-skip\").length){var c=a(this);c.data(\"bs.rowlink\")||(c.rowlink(c.data()),a(b.target).trigger(\"click.bs.rowlink\"))}})}(window.jQuery),+function(a){\"use strict\";var b=void 0!==window.orientation,c=navigator.userAgent.toLowerCase().indexOf(\"android\")>-1,d=\"Microsoft Internet Explorer\"==window.navigator.appName,e=function(b,d){c||(this.$element=a(b),this.options=a.extend({},e.DEFAULTS,d),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};e.DEFAULTS={mask:\"\",placeholder:\"_\",definitions:{9:\"[0-9]\",a:\"[A-Za-z]\",w:\"[A-Za-z0-9]\",\"*\":\".\"}},e.prototype.init=function(){var b=this.options.definitions,c=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,a.each(this.mask.split(\"\"),a.proxy(function(a,d){\"?\"==d?(c--,this.partialPosition=a):b[d]?(this.tests.push(new RegExp(b[d])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=a.map(this.mask.split(\"\"),a.proxy(function(a){return\"?\"!=a?b[a]?this.options.placeholder:a:void 0},this)),this.focusText=this.$element.val(),this.$element.data(\"rawMaskFn\",a.proxy(function(){return a.map(this.buffer,function(a,b){return this.tests[b]&&a!=this.options.placeholder?a:null}).join(\"\")},this))},e.prototype.listen=function(){if(!this.$element.attr(\"readonly\")){var b=(d?\"paste\":\"input\")+\".mask\";this.$element.on(\"unmask.bs.inputmask\",a.proxy(this.unmask,this)).on(\"focus.bs.inputmask\",a.proxy(this.focusEvent,this)).on(\"blur.bs.inputmask\",a.proxy(this.blurEvent,this)).on(\"keydown.bs.inputmask\",a.proxy(this.keydownEvent,this)).on(\"keypress.bs.inputmask\",a.proxy(this.keypressEvent,this)).on(b,a.proxy(this.pasteEvent,this))}},e.prototype.caret=function(a,b){if(0!==this.$element.length){if(\"number\"==typeof a)return b=\"number\"==typeof b?b:a,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd(\"character\",b),c.moveStart(\"character\",a),c.select()}});if(this.$element[0].setSelectionRange)a=this.$element[0].selectionStart,b=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart(\"character\",-1e5),b=a+c.text.length}return{begin:a,end:b}}},e.prototype.seekNext=function(a){for(var b=this.mask.length;++a<=b&&!this.tests[a];);return a},e.prototype.seekPrev=function(a){for(;--a>=0&&!this.tests[a];);return a},e.prototype.shiftL=function(a,b){var c=this.mask.length;if(!(0>a)){for(var d=a,e=this.seekNext(b);c>d;d++)if(this.tests[d]){if(!(c>e&&this.tests[d].test(this.buffer[e])))break;this.buffer[d]=this.buffer[e],this.buffer[e]=this.options.placeholder,e=this.seekNext(e)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,a))}},e.prototype.shiftR=function(a){for(var b=this.mask.length,c=a,d=this.options.placeholder;b>c;c++)if(this.tests[c]){var e=this.seekNext(c),f=this.buffer[c];if(this.buffer[c]=d,!(b>e&&this.tests[e].test(f)))break;d=f}},e.prototype.unmask=function(){this.$element.unbind(\".mask\").removeData(\"inputmask\")},e.prototype.focusEvent=function(){this.focusText=this.$element.val();var a=this.mask.length,b=this.checkVal();this.writeBuffer();var c=this,d=function(){b==a?c.caret(0,b):c.caret(b)};d(),setTimeout(d,50)},e.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger(\"change\")},e.prototype.keydownEvent=function(a){var c=a.which;if(8==c||46==c||b&&127==c){var d=this.caret(),e=d.begin,f=d.end;return f-e===0&&(e=46!=c?this.seekPrev(e):f=this.seekNext(e-1),f=46==c?this.seekNext(f):f),this.clearBuffer(e,f),this.shiftL(e,f-1),!1}return 27==c?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},e.prototype.keypressEvent=function(a){var b=this.mask.length,c=a.which,d=this.caret();if(a.ctrlKey||a.altKey||a.metaKey||32>c)return!0;if(c){d.end-d.begin!==0&&(this.clearBuffer(d.begin,d.end),this.shiftL(d.begin,d.end-1));var e=this.seekNext(d.begin-1);if(b>e){var f=String.fromCharCode(c);if(this.tests[e].test(f)){this.shiftR(e),this.buffer[e]=f,this.writeBuffer();var g=this.seekNext(e);this.caret(g)}}return!1}},e.prototype.pasteEvent=function(){var a=this;setTimeout(function(){a.caret(a.checkVal(!0))},0)},e.prototype.clearBuffer=function(a,b){for(var c=this.mask.length,d=a;b>d&&c>d;d++)this.tests[d]&&(this.buffer[d]=this.options.placeholder)},e.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join(\"\")).val()},e.prototype.checkVal=function(a){for(var b=this.mask.length,c=this.$element.val(),d=-1,e=0,f=0;b>e;e++)if(this.tests[e]){for(this.buffer[e]=this.options.placeholder;f++<c.length;){var g=c.charAt(f-1);if(this.tests[e].test(g)){this.buffer[e]=g,d=e;break}}if(f>c.length)break}else this.buffer[e]==c.charAt(f)&&e!=this.partialPosition&&(f++,d=e);return!a&&d+1<this.partialPosition?(this.$element.val(\"\"),this.clearBuffer(0,b)):(a||d+1>=this.partialPosition)&&(this.writeBuffer(),a||this.$element.val(this.$element.val().substring(0,d+1))),this.partialPosition?e:this.firstNonMaskPos};var f=a.fn.inputmask;a.fn.inputmask=function(b){return this.each(function(){var c=a(this),d=c.data(\"bs.inputmask\");d||c.data(\"bs.inputmask\",d=new e(this,b))})},a.fn.inputmask.Constructor=e,a.fn.inputmask.noConflict=function(){return a.fn.inputmask=f,this},a(document).on(\"focus.bs.inputmask.data-api\",\"[data-mask]\",function(){var b=a(this);b.data(\"bs.inputmask\")||b.inputmask(b.data())})}(window.jQuery),+function(a){\"use strict\";var b=\"Microsoft Internet Explorer\"==window.navigator.appName,c=function(b,c){if(this.$element=a(b),this.$input=this.$element.find(\":file\"),0!==this.$input.length){this.name=this.$input.attr(\"name\")||c.name,this.$hidden=this.$element.find('input[type=hidden][name=\"'+this.name+'\"]'),0===this.$hidden.length&&(this.$hidden=a('<input type=\"hidden\">').insertBefore(this.$input)),this.$preview=this.$element.find(\".fileinput-preview\");var d=this.$preview.css(\"height\");\"inline\"!==this.$preview.css(\"display\")&&\"0px\"!==d&&\"none\"!==d&&this.$preview.css(\"line-height\",d),this.original={exists:this.$element.hasClass(\"fileinput-exists\"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};c.prototype.listen=function(){this.$input.on(\"change.bs.fileinput\",a.proxy(this.change,this)),a(this.$input[0].form).on(\"reset.bs.fileinput\",a.proxy(this.reset,this)),this.$element.find('[data-trigger=\"fileinput\"]').on(\"click.bs.fileinput\",a.proxy(this.trigger,this)),this.$element.find('[data-dismiss=\"fileinput\"]').on(\"click.bs.fileinput\",a.proxy(this.clear,this))},c.prototype.change=function(b){var c=void 0===b.target.files?b.target&&b.target.value?[{name:b.target.value.replace(/^.+\\\\/,\"\")}]:[]:b.target.files;if(b.stopPropagation(),0===c.length)return void this.clear();this.$hidden.val(\"\"),this.$hidden.attr(\"name\",\"\"),this.$input.attr(\"name\",this.name);var d=c[0];if(this.$preview.length>0&&(\"undefined\"!=typeof d.type?d.type.match(/^image\\/(gif|png|jpeg)$/):d.name.match(/\\.(gif|png|jpe?g)$/i))&&\"undefined\"!=typeof FileReader){var e=new FileReader,f=this.$preview,g=this.$element;e.onload=function(b){var e=a(\"<img>\");e[0].src=b.target.result,c[0].result=b.target.result,g.find(\".fileinput-filename\").text(d.name),\"none\"!=f.css(\"max-height\")&&e.css(\"max-height\",parseInt(f.css(\"max-height\"),10)-parseInt(f.css(\"padding-top\"),10)-parseInt(f.css(\"padding-bottom\"),10)-parseInt(f.css(\"border-top\"),10)-parseInt(f.css(\"border-bottom\"),10)),f.html(e),g.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"),g.trigger(\"change.bs.fileinput\",c)},e.readAsDataURL(d)}else this.$element.find(\".fileinput-filename\").text(d.name),this.$preview.text(d.name),this.$element.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"),this.$element.trigger(\"change.bs.fileinput\")},c.prototype.clear=function(a){if(a&&a.preventDefault(),this.$hidden.val(\"\"),this.$hidden.attr(\"name\",this.name),this.$input.attr(\"name\",\"\"),b){var c=this.$input.clone(!0);this.$input.after(c),this.$input.remove(),this.$input=c}else this.$input.val(\"\");this.$preview.html(\"\"),this.$element.find(\".fileinput-filename\").text(\"\"),this.$element.addClass(\"fileinput-new\").removeClass(\"fileinput-exists\"),void 0!==a&&(this.$input.trigger(\"change\"),this.$element.trigger(\"clear.bs.fileinput\"))},c.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(\".fileinput-filename\").text(\"\"),this.original.exists?this.$element.addClass(\"fileinput-exists\").removeClass(\"fileinput-new\"):this.$element.addClass(\"fileinput-new\").removeClass(\"fileinput-exists\"),this.$element.trigger(\"reset.bs.fileinput\")},c.prototype.trigger=function(a){this.$input.trigger(\"click\"),a.preventDefault()};var d=a.fn.fileinput;a.fn.fileinput=function(b){return this.each(function(){var d=a(this),e=d.data(\"bs.fileinput\");e||d.data(\"bs.fileinput\",e=new c(this,b)),\"string\"==typeof b&&e[b]()})},a.fn.fileinput.Constructor=c,a.fn.fileinput.noConflict=function(){return a.fn.fileinput=d,this},a(document).on(\"click.fileinput.data-api\",'[data-provides=\"fileinput\"]',function(b){var c=a(this);if(!c.data(\"bs.fileinput\")){c.fileinput(c.data());var d=a(b.target).closest('[data-dismiss=\"fileinput\"],[data-trigger=\"fileinput\"]');d.length>0&&(b.preventDefault(),d.trigger(\"click.bs.fileinput\"))}})}(window.jQuery);";
var mod_pagespeed_nXusIBwohm = "var Holder=Holder||{};(function(app,win){var system_config={use_svg:false,use_canvas:false,use_fallback:false};var instance_config={};var preempted=false;canvas=document.createElement('canvas');var dpr=1,bsr=1;var resizable_images=[];if(!canvas.getContext){system_config.use_fallback=true;}else{if(canvas.toDataURL(\"image/png\").indexOf(\"data:image/png\")<0){system_config.use_fallback=true;}else{var ctx=canvas.getContext(\"2d\");}}if(!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect){system_config.use_svg=true;system_config.use_canvas=false;}if(!system_config.use_fallback){dpr=window.devicePixelRatio||1,bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;}var ratio=dpr/bsr;var settings={domain:\"holder.js\",images:\"img\",bgnodes:\".holderjs\",themes:{\"gray\":{background:\"#eee\",foreground:\"#aaa\",size:12},\"social\":{background:\"#3a5a97\",foreground:\"#fff\",size:12},\"industrial\":{background:\"#434A52\",foreground:\"#C2F200\",size:12},\"sky\":{background:\"#0D8FDB\",foreground:\"#fff\",size:12},\"vine\":{background:\"#39DBAC\",foreground:\"#1E292C\",size:12},\"lava\":{background:\"#F8591A\",foreground:\"#1C2846\",size:12}},stylesheet:\"\"};app.flags={dimensions:{regex:/^(\\d+)x(\\d+)$/,output:function(val){var exec=this.regex.exec(val);return{width:+exec[1],height:+exec[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(val){var exec=this.regex.exec(val);return{width:exec[1],height:exec[2]}}},colors:{regex:/#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,output:function(val){var exec=this.regex.exec(val);return{size:settings.themes.gray.size,foreground:\"#\"+exec[2],background:\"#\"+exec[1]}}},text:{regex:/text\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}},font:{regex:/font\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}},auto:{regex:/^auto$/},textmode:{regex:/textmode\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}}}\nfunction text_size(width,height,template){height=parseInt(height,10);width=parseInt(width,10);var bigSide=Math.max(height,width)\nvar smallSide=Math.min(height,width)\nvar scale=1/12;var newHeight=Math.min(smallSide*0.75,0.75*bigSide*scale);return{height:Math.round(Math.max(template.size,newHeight))}}var svg_el=(function(){if(!window.XMLSerializer)return;var serializer=new XMLSerializer();var svg_ns=\"http://www.w3.org/2000/svg\"\nvar svg=document.createElementNS(svg_ns,\"svg\");if(svg.webkitMatchesSelector){svg.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\")}var bg_el=document.createElementNS(svg_ns,\"rect\")\nvar text_el=document.createElementNS(svg_ns,\"text\")\nvar textnode_el=document.createTextNode(null)\ntext_el.setAttribute(\"text-anchor\",\"middle\")\ntext_el.appendChild(textnode_el)\nsvg.appendChild(bg_el)\nsvg.appendChild(text_el)\nreturn function(props){svg.setAttribute(\"width\",props.width);svg.setAttribute(\"height\",props.height);bg_el.setAttribute(\"width\",props.width);bg_el.setAttribute(\"height\",props.height);bg_el.setAttribute(\"fill\",props.template.background);text_el.setAttribute(\"x\",props.width/2)\ntext_el.setAttribute(\"y\",props.height/2)\ntextnode_el.nodeValue=props.text\ntext_el.setAttribute(\"style\",css_properties({\"fill\":props.template.foreground,\"font-weight\":\"bold\",\"font-size\":props.text_height+\"px\",\"font-family\":props.font,\"dominant-baseline\":\"central\"}))\nreturn serializer.serializeToString(svg)}})()\nfunction css_properties(props){var ret=[];for(p in props){if(props.hasOwnProperty(p)){ret.push(p+\":\"+props[p])}}return ret.join(\";\")}function draw_canvas(args){var ctx=args.ctx,dimensions=args.dimensions,template=args.template,ratio=args.ratio,holder=args.holder,literal=holder.textmode==\"literal\",exact=holder.textmode==\"exact\";var ts=text_size(dimensions.width,dimensions.height,template);var text_height=ts.height;var width=dimensions.width*ratio,height=dimensions.height*ratio;var font=template.font?template.font:\"Arial,Helvetica,sans-serif\";canvas.width=width;canvas.height=height;ctx.textAlign=\"center\";ctx.textBaseline=\"middle\";ctx.fillStyle=template.background;ctx.fillRect(0,0,width,height);ctx.fillStyle=template.foreground;ctx.font=\"bold \"+text_height+\"px \"+font;var text=template.text?template.text:(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));if(literal){var dimensions=holder.dimensions;text=dimensions.width+\"x\"+dimensions.height;}else if(exact&&holder.exact_dimensions){var dimensions=holder.exact_dimensions;text=(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));}var text_width=ctx.measureText(text).width;if(text_width/width>=0.75){text_height=Math.floor(text_height*0.75*(width/text_width));}ctx.font=\"bold \"+(text_height*ratio)+\"px \"+font;ctx.fillText(text,(width/2),(height/2),width);return canvas.toDataURL(\"image/png\");}function draw_svg(args){var dimensions=args.dimensions,template=args.template,holder=args.holder,literal=holder.textmode==\"literal\",exact=holder.textmode==\"exact\";var ts=text_size(dimensions.width,dimensions.height,template);var text_height=ts.height;var width=dimensions.width,height=dimensions.height;var font=template.font?template.font:\"Arial,Helvetica,sans-serif\";var text=template.text?template.text:(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));if(literal){var dimensions=holder.dimensions;text=dimensions.width+\"x\"+dimensions.height;}else if(exact&&holder.exact_dimensions){var dimensions=holder.exact_dimensions;text=(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));}var string=svg_el({text:text,width:width,height:height,text_height:text_height,font:font,template:template})\nreturn\"data:image/svg+xml;base64,\"+btoa(unescape(encodeURIComponent(string)));}function draw(args){if(instance_config.use_canvas&&!instance_config.use_svg){return draw_canvas(args);}else{return draw_svg(args);}}function render(mode,el,holder,src){var dimensions=holder.dimensions,theme=holder.theme,text=holder.text?decodeURIComponent(holder.text):holder.text;var dimensions_caption=dimensions.width+\"x\"+dimensions.height;theme=(text?extend(theme,{text:text}):theme);theme=(holder.font?extend(theme,{font:holder.font}):theme);el.setAttribute(\"data-src\",src);holder.theme=theme;el.holder_data=holder;if(mode==\"image\"){el.setAttribute(\"alt\",text?text:theme.text?theme.text+\" [\"+dimensions_caption+\"]\":dimensions_caption);if(instance_config.use_fallback||!holder.auto){el.style.width=dimensions.width+\"px\";el.style.height=dimensions.height+\"px\";}if(instance_config.use_fallback){el.style.backgroundColor=theme.background;}else{el.setAttribute(\"src\",draw({ctx:ctx,dimensions:dimensions,template:theme,ratio:ratio,holder:holder}));if(holder.textmode&&holder.textmode==\"exact\"){resizable_images.push(el);resizable_update(el);}}}else if(mode==\"background\"){if(!instance_config.use_fallback){el.style.backgroundImage=\"url(\"+draw({ctx:ctx,dimensions:dimensions,template:theme,ratio:ratio,holder:holder})+\")\";el.style.backgroundSize=dimensions.width+\"px \"+dimensions.height+\"px\";}}else if(mode==\"fluid\"){el.setAttribute(\"alt\",text?text:theme.text?theme.text+\" [\"+dimensions_caption+\"]\":dimensions_caption);if(dimensions.height.slice(-1)==\"%\"){el.style.height=dimensions.height}else if(holder.auto==null||!holder.auto){el.style.height=dimensions.height+\"px\"}if(dimensions.width.slice(-1)==\"%\"){el.style.width=dimensions.width}else if(holder.auto==null||!holder.auto){el.style.width=dimensions.width+\"px\"}if(el.style.display==\"inline\"||el.style.display===\"\"||el.style.display==\"none\"){el.style.display=\"block\";}set_initial_dimensions(el)\nif(instance_config.use_fallback){el.style.backgroundColor=theme.background;}else{resizable_images.push(el);resizable_update(el);}}}function dimension_check(el,callback){var dimensions={height:el.clientHeight,width:el.clientWidth};if(!dimensions.height&&!dimensions.width){el.setAttribute(\"data-holder-invisible\",true)\ncallback.call(this,el)}else{el.removeAttribute(\"data-holder-invisible\")\nreturn dimensions;}}function set_initial_dimensions(el){if(el.holder_data){var dimensions=dimension_check(el,app.invisible_error_fn(set_initial_dimensions))\nif(dimensions){var holder=el.holder_data;holder.initial_dimensions=dimensions;holder.fluid_data={fluid_height:holder.dimensions.height.slice(-1)==\"%\",fluid_width:holder.dimensions.width.slice(-1)==\"%\",mode:null}\nif(holder.fluid_data.fluid_width&&!holder.fluid_data.fluid_height){holder.fluid_data.mode=\"width\"\nholder.fluid_data.ratio=holder.initial_dimensions.width/parseFloat(holder.dimensions.height)}else if(!holder.fluid_data.fluid_width&&holder.fluid_data.fluid_height){holder.fluid_data.mode=\"height\";holder.fluid_data.ratio=parseFloat(holder.dimensions.width)/holder.initial_dimensions.height}}}}function resizable_update(element){var images;if(element.nodeType==null){images=resizable_images;}else{images=[element]}for(var i in images){if(!images.hasOwnProperty(i)){continue;}var el=images[i]\nif(el.holder_data){var holder=el.holder_data;var dimensions=dimension_check(el,app.invisible_error_fn(resizable_update))\nif(dimensions){if(holder.fluid){if(holder.auto){switch(holder.fluid_data.mode){case\"width\":dimensions.height=dimensions.width/holder.fluid_data.ratio;break;case\"height\":dimensions.width=dimensions.height*holder.fluid_data.ratio;break;}}el.setAttribute(\"src\",draw({ctx:ctx,dimensions:dimensions,template:holder.theme,ratio:ratio,holder:holder}))}if(holder.textmode&&holder.textmode==\"exact\"){holder.exact_dimensions=dimensions;el.setAttribute(\"src\",draw({ctx:ctx,dimensions:holder.dimensions,template:holder.theme,ratio:ratio,holder:holder}))}}}}}function parse_flags(flags,options){var ret={theme:extend(settings.themes.gray,{})};var render=false;for(var fl=flags.length,j=0;j<fl;j++){var flag=flags[j];if(app.flags.dimensions.match(flag)){render=true;ret.dimensions=app.flags.dimensions.output(flag);}else if(app.flags.fluid.match(flag)){render=true;ret.dimensions=app.flags.fluid.output(flag);ret.fluid=true;}else if(app.flags.textmode.match(flag)){ret.textmode=app.flags.textmode.output(flag)}else if(app.flags.colors.match(flag)){ret.theme=app.flags.colors.output(flag);}else if(options.themes[flag]){if(options.themes.hasOwnProperty(flag)){ret.theme=extend(options.themes[flag],{});}}else if(app.flags.font.match(flag)){ret.font=app.flags.font.output(flag);}else if(app.flags.auto.match(flag)){ret.auto=true;}else if(app.flags.text.match(flag)){ret.text=app.flags.text.output(flag);}}return render?ret:false;}for(var flag in app.flags){if(!app.flags.hasOwnProperty(flag))continue;app.flags[flag].match=function(val){return val.match(this.regex)}}app.invisible_error_fn=function(fn){return function(el){if(el.hasAttribute(\"data-holder-invisible\")){throw new Error(\"Holder: invisible placeholder\")}}}\napp.add_theme=function(name,theme){name!=null&&theme!=null&&(settings.themes[name]=theme);return app;};app.add_image=function(src,el){var node=selector(el);if(node.length){for(var i=0,l=node.length;i<l;i++){var img=document.createElement(\"img\")\nimg.setAttribute(\"data-src\",src);node[i].appendChild(img);}}return app;};app.run=function(o){instance_config=extend({},system_config)\npreempted=true;var options=extend(settings,o),images=[],imageNodes=[],bgnodes=[];if(options.use_canvas!=null&&options.use_canvas){instance_config.use_canvas=true;instance_config.use_svg=false;}if(typeof(options.images)==\"string\"){imageNodes=selector(options.images);}else if(window.NodeList&&options.images instanceof window.NodeList){imageNodes=options.images;}else if(window.Node&&options.images instanceof window.Node){imageNodes=[options.images];}else if(window.HTMLCollection&&options.images instanceof window.HTMLCollection){imageNodes=options.images}if(typeof(options.bgnodes)==\"string\"){bgnodes=selector(options.bgnodes);}else if(window.NodeList&&options.elements instanceof window.NodeList){bgnodes=options.bgnodes;}else if(window.Node&&options.bgnodes instanceof window.Node){bgnodes=[options.bgnodes];}for(i=0,l=imageNodes.length;i<l;i++)images.push(imageNodes[i]);var holdercss=document.getElementById(\"holderjs-style\");if(!holdercss){holdercss=document.createElement(\"style\");holdercss.setAttribute(\"id\",\"holderjs-style\");holdercss.type=\"text/css\";document.getElementsByTagName(\"head\")[0].appendChild(holdercss);}if(!options.nocss){if(holdercss.styleSheet){holdercss.styleSheet.cssText+=options.stylesheet;}else{if(options.stylesheet.length){holdercss.appendChild(document.createTextNode(options.stylesheet));}}}var cssregex=new RegExp(options.domain+\"\\/(.*?)\\\"?\\\\)\");for(var l=bgnodes.length,i=0;i<l;i++){var src=window.getComputedStyle(bgnodes[i],null).getPropertyValue(\"background-image\");var flags=src.match(cssregex);var bgsrc=bgnodes[i].getAttribute(\"data-background-src\");if(flags){var holder=parse_flags(flags[1].split(\"/\"),options);if(holder){render(\"background\",bgnodes[i],holder,src);}}else if(bgsrc!=null){var holder=parse_flags(bgsrc.substr(bgsrc.lastIndexOf(options.domain)+options.domain.length+1).split(\"/\"),options);if(holder){render(\"background\",bgnodes[i],holder,src);}}}for(l=images.length,i=0;i<l;i++){var attr_data_src,attr_src;attr_src=attr_data_src=src=null;try{attr_src=images[i].getAttribute(\"src\");attr_datasrc=images[i].getAttribute(\"data-src\");}catch(e){}if(attr_datasrc==null&&!!attr_src&&attr_src.indexOf(options.domain)>=0){src=attr_src;}else if(!!attr_datasrc&&attr_datasrc.indexOf(options.domain)>=0){src=attr_datasrc;}if(src){var holder=parse_flags(src.substr(src.lastIndexOf(options.domain)+options.domain.length+1).split(\"/\"),options);if(holder){if(holder.fluid){render(\"fluid\",images[i],holder,src)}else{render(\"image\",images[i],holder,src);}}}}return app;};contentLoaded(win,function(){if(window.addEventListener){window.addEventListener(\"resize\",resizable_update,false);window.addEventListener(\"orientationchange\",resizable_update,false);}else{window.attachEvent(\"onresize\",resizable_update)}preempted||app.run({});if(typeof window.Turbolinks===\"object\"){document.addEventListener(\"page:change\",function(){app.run({})})}});if(typeof define===\"function\"&&define.amd){define([],function(){return app;});}(function(){function t(t){this.message=t}var e=\"undefined\"!=typeof exports?exports:this,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";t.prototype=Error(),t.prototype.name=\"InvalidCharacterError\",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c=\"\";e.charAt(0|a)||(i=\"=\",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=.75),n>255)throw new t(\"'btoa' failed\");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,\"\"),1==e.length%4)throw new t(\"'atob' failed\");for(var o,n,a=0,i=0,c=\"\";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0)n=r.indexOf(n);return c})})();document.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\nwindow.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\nfunction contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}}function selector(a,b){var a=a.match(/^(\\W)?(.*)/),b=b||document,c=b[\"getElement\"+(a[1]?\"#\"==a[1]?\"ById\":\"sByClassName\":\"sByTagName\")],d=c.call(b,a[2]),e=[];return null!==d&&(e=d.length||0===d.length?d:[d]),e}function extend(a,b){var c={};for(var i in a){if(a.hasOwnProperty(i)){c[i]=a[i];}}for(var i in b){if(b.hasOwnProperty(i)){c[i]=b[i];}}return c}if(!Object.prototype.hasOwnProperty)Object.prototype.hasOwnProperty=function(prop){var proto=this.__proto__||this.constructor.prototype;return(prop in this)&&(!(prop in proto)||proto[prop]!==this[prop]);}})(Holder,window);";
