var mod_pagespeed_oyiZxx9Spc = "if(typeof jQuery==='undefined'){throw new Error('Jasny Bootstrap\\'s JavaScript requires jQuery')}+function($){'use strict';function transitionEnd(){var el=document.createElement('bootstrap')\nvar transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'}\nfor(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}return false}if($.support.transition!==undefined)return\n$.fn.emulateTransitionEnd=function(duration){var called=false,$el=this\n$(this).one($.support.transition.end,function(){called=true})\nvar callback=function(){if(!called)$($el).trigger($.support.transition.end)}\nsetTimeout(callback,duration)\nreturn this}\n$(function(){$.support.transition=transitionEnd()})}(window.jQuery);+function($){\"use strict\";var OffCanvas=function(element,options){this.$element=$(element)\nthis.options=$.extend({},OffCanvas.DEFAULTS,options)\nthis.state=null\nthis.placement=null\nif(this.options.recalc){this.calcClone()\n$(window).on('resize',$.proxy(this.recalc,this))}if(this.options.autohide)$(document).on('click',$.proxy(this.autohide,this))\nif(this.options.toggle)this.toggle()\nif(this.options.disablescrolling){this.options.disableScrolling=this.options.disablescrolling\ndelete this.options.disablescrolling}}\nOffCanvas.DEFAULTS={toggle:true,placement:'auto',autohide:true,recalc:true,disableScrolling:true}\nOffCanvas.prototype.offset=function(){switch(this.placement){case'left':case'right':return this.$element.outerWidth()\ncase'top':case'bottom':return this.$element.outerHeight()}}\nOffCanvas.prototype.calcPlacement=function(){if(this.options.placement!=='auto'){this.placement=this.options.placement\nreturn}if(!this.$element.hasClass('in')){this.$element.css('visiblity','hidden !important').addClass('in')}var horizontal=$(window).width()/this.$element.width()\nvar vertical=$(window).height()/this.$element.height()\nvar element=this.$element\nfunction ab(a,b){if(element.css(b)==='auto')return a\nif(element.css(a)==='auto')return b\nvar size_a=parseInt(element.css(a),10)\nvar size_b=parseInt(element.css(b),10)\nreturn size_a>size_b?b:a}this.placement=horizontal>=vertical?ab('left','right'):ab('top','bottom')\nif(this.$element.css('visibility')==='hidden !important'){this.$element.removeClass('in').css('visiblity','')}}\nOffCanvas.prototype.opposite=function(placement){switch(placement){case'top':return'bottom'\ncase'left':return'right'\ncase'bottom':return'top'\ncase'right':return'left'}}\nOffCanvas.prototype.getCanvasElements=function(){var canvas=this.options.canvas?$(this.options.canvas):this.$element\nvar fixed_elements=canvas.find('*').filter(function(){return $(this).css('position')==='fixed'}).not(this.options.exclude)\nreturn canvas.add(fixed_elements)}\nOffCanvas.prototype.slide=function(elements,offset,callback){if(!$.support.transition){var anim={}\nanim[this.placement]=\"+=\"+offset\nreturn elements.animate(anim,350,callback)}var placement=this.placement\nvar opposite=this.opposite(placement)\nelements.each(function(){if($(this).css(placement)!=='auto')$(this).css(placement,(parseInt($(this).css(placement),10)||0)+offset)\nif($(this).css(opposite)!=='auto')$(this).css(opposite,(parseInt($(this).css(opposite),10)||0)-offset)})\nthis.$element.one($.support.transition.end,callback).emulateTransitionEnd(350)}\nOffCanvas.prototype.disableScrolling=function(){var bodyWidth=$('body').width()\nvar prop='padding-'+this.opposite(this.placement)\nif($('body').data('offcanvas-style')===undefined){$('body').data('offcanvas-style',$('body').attr('style')||'')}$('body').css('overflow','hidden')\nif($('body').width()>bodyWidth){var padding=parseInt($('body').css(prop),10)+$('body').width()-bodyWidth\nsetTimeout(function(){$('body').css(prop,padding)},1)}}\nOffCanvas.prototype.show=function(){if(this.state)return\nvar startEvent=$.Event('show.bs.offcanvas')\nthis.$element.trigger(startEvent)\nif(startEvent.isDefaultPrevented())return\nthis.state='slide-in'\nthis.calcPlacement();var elements=this.getCanvasElements()\nvar placement=this.placement\nvar opposite=this.opposite(placement)\nvar offset=this.offset()\nif(elements.index(this.$element)!==-1){$(this.$element).data('offcanvas-style',$(this.$element).attr('style')||'')\nthis.$element.css(placement,-1*offset)\nthis.$element.css(placement);}elements.addClass('canvas-sliding').each(function(){if($(this).data('offcanvas-style')===undefined)$(this).data('offcanvas-style',$(this).attr('style')||'')\nif($(this).css('position')==='static')$(this).css('position','relative')\nif(($(this).css(placement)==='auto'||$(this).css(placement)==='0px')&&($(this).css(opposite)==='auto'||$(this).css(opposite)==='0px')){$(this).css(placement,0)}})\nif(this.options.disableScrolling)this.disableScrolling()\nvar complete=function(){if(this.state!='slide-in')return\nthis.state='slid'\nelements.removeClass('canvas-sliding').addClass('canvas-slid')\nthis.$element.trigger('shown.bs.offcanvas')}\nsetTimeout($.proxy(function(){this.$element.addClass('in')\nthis.slide(elements,offset,$.proxy(complete,this))},this),1)}\nOffCanvas.prototype.hide=function(fast){if(this.state!=='slid')return\nvar startEvent=$.Event('hide.bs.offcanvas')\nthis.$element.trigger(startEvent)\nif(startEvent.isDefaultPrevented())return\nthis.state='slide-out'\nvar elements=$('.canvas-slid')\nvar placement=this.placement\nvar offset=-1*this.offset()\nvar complete=function(){if(this.state!='slide-out')return\nthis.state=null\nthis.placement=null\nthis.$element.removeClass('in')\nelements.removeClass('canvas-sliding')\nelements.add(this.$element).add('body').each(function(){$(this).attr('style',$(this).data('offcanvas-style')).removeData('offcanvas-style')})\nthis.$element.trigger('hidden.bs.offcanvas')}\nelements.removeClass('canvas-slid').addClass('canvas-sliding')\nsetTimeout($.proxy(function(){this.slide(elements,offset,$.proxy(complete,this))},this),1)}\nOffCanvas.prototype.toggle=function(){if(this.state==='slide-in'||this.state==='slide-out')return\nthis[this.state==='slid'?'hide':'show']()}\nOffCanvas.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html('').addClass('offcanvas-clone').removeClass('in').appendTo($('body'))}\nOffCanvas.prototype.recalc=function(){if(this.$calcClone.css('display')==='none'||(this.state!=='slid'&&this.state!=='slide-in'))return\nthis.state=null\nthis.placement=null\nvar elements=this.getCanvasElements()\nthis.$element.removeClass('in')\nelements.removeClass('canvas-slid')\nelements.add(this.$element).add('body').each(function(){$(this).attr('style',$(this).data('offcanvas-style')).removeData('offcanvas-style')})}\nOffCanvas.prototype.autohide=function(e){if($(e.target).closest(this.$element).length===0)this.hide()}\nvar old=$.fn.offcanvas\n$.fn.offcanvas=function(option){return this.each(function(){var $this=$(this)\nvar data=$this.data('bs.offcanvas')\nvar options=$.extend({},OffCanvas.DEFAULTS,$this.data(),typeof option==='object'&&option)\nif(!data)$this.data('bs.offcanvas',(data=new OffCanvas(this,options)))\nif(typeof option==='string')data[option]()})}\n$.fn.offcanvas.Constructor=OffCanvas\n$.fn.offcanvas.noConflict=function(){$.fn.offcanvas=old\nreturn this}\n$(document).on('click.bs.offcanvas.data-api','[data-toggle=offcanvas]',function(e){var $this=$(this),href\nvar target=$this.attr('data-target')||e.preventDefault()||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\\s]+$)/,'')\nvar $canvas=$(target)\nvar data=$canvas.data('bs.offcanvas')\nvar option=data?'toggle':$this.data()\ne.stopPropagation()\nif(data)data.toggle()\nelse $canvas.offcanvas(option)})}(window.jQuery);+function($){\"use strict\";var Rowlink=function(element,options){this.$element=$(element)\nthis.options=$.extend({},Rowlink.DEFAULTS,options)\nthis.$element.on('click.bs.rowlink','td:not(.rowlink-skip)',$.proxy(this.click,this))}\nRowlink.DEFAULTS={target:\"a\"}\nRowlink.prototype.click=function(e){var target=$(e.currentTarget).closest('tr').find(this.options.target)[0]\nif($(e.target)[0]===target)return\ne.preventDefault();if(target.click){target.click()}else if(document.createEvent){var evt=document.createEvent(\"MouseEvents\");evt.initMouseEvent(\"click\",true,true,window,0,0,0,0,0,false,false,false,false,0,null);target.dispatchEvent(evt);}}\nvar old=$.fn.rowlink\n$.fn.rowlink=function(options){return this.each(function(){var $this=$(this)\nvar data=$this.data('bs.rowlink')\nif(!data)$this.data('bs.rowlink',(data=new Rowlink(this,options)))})}\n$.fn.rowlink.Constructor=Rowlink\n$.fn.rowlink.noConflict=function(){$.fn.rowlink=old\nreturn this}\n$(document).on('click.bs.rowlink.data-api','[data-link=\"row\"]',function(e){if($(e.target).closest('.rowlink-skip').length!==0)return\nvar $this=$(this)\nif($this.data('bs.rowlink'))return\n$this.rowlink($this.data())\n$(e.target).trigger('click.bs.rowlink')})}(window.jQuery);+function($){\"use strict\";var isIphone=(window.orientation!==undefined)\nvar isAndroid=navigator.userAgent.toLowerCase().indexOf(\"android\")>-1\nvar isIE=window.navigator.appName=='Microsoft Internet Explorer'\nvar Inputmask=function(element,options){if(isAndroid)return\nthis.$element=$(element)\nthis.options=$.extend({},Inputmask.DEFAULTS,options)\nthis.mask=String(this.options.mask)\nthis.init()\nthis.listen()\nthis.checkVal()}\nInputmask.DEFAULTS={mask:\"\",placeholder:\"_\",definitions:{'9':\"[0-9]\",'a':\"[A-Za-z]\",'w':\"[A-Za-z0-9]\",'*':\".\"}}\nInputmask.prototype.init=function(){var defs=this.options.definitions\nvar len=this.mask.length\nthis.tests=[]\nthis.partialPosition=this.mask.length\nthis.firstNonMaskPos=null\n$.each(this.mask.split(\"\"),$.proxy(function(i,c){if(c=='?'){len--\nthis.partialPosition=i}else if(defs[c]){this.tests.push(new RegExp(defs[c]))\nif(this.firstNonMaskPos===null)this.firstNonMaskPos=this.tests.length-1}else{this.tests.push(null)}},this))\nthis.buffer=$.map(this.mask.split(\"\"),$.proxy(function(c,i){if(c!='?')return defs[c]?this.options.placeholder:c},this))\nthis.focusText=this.$element.val()\nthis.$element.data(\"rawMaskFn\",$.proxy(function(){return $.map(this.buffer,function(c,i){return this.tests[i]&&c!=this.options.placeholder?c:null}).join('')},this))}\nInputmask.prototype.listen=function(){if(this.$element.attr(\"readonly\"))return\nvar pasteEventName=(isIE?'paste':'input')+\".mask\"\nthis.$element.on(\"unmask.bs.inputmask\",$.proxy(this.unmask,this)).on(\"focus.bs.inputmask\",$.proxy(this.focusEvent,this)).on(\"blur.bs.inputmask\",$.proxy(this.blurEvent,this)).on(\"keydown.bs.inputmask\",$.proxy(this.keydownEvent,this)).on(\"keypress.bs.inputmask\",$.proxy(this.keypressEvent,this)).on(pasteEventName,$.proxy(this.pasteEvent,this))}\nInputmask.prototype.caret=function(begin,end){if(this.$element.length===0)return\nif(typeof begin=='number'){end=(typeof end=='number')?end:begin\nreturn this.$element.each(function(){if(this.setSelectionRange){this.setSelectionRange(begin,end)}else if(this.createTextRange){var range=this.createTextRange()\nrange.collapse(true)\nrange.moveEnd('character',end)\nrange.moveStart('character',begin)\nrange.select()}})}else{if(this.$element[0].setSelectionRange){begin=this.$element[0].selectionStart\nend=this.$element[0].selectionEnd}else if(document.selection&&document.selection.createRange){var range=document.selection.createRange()\nbegin=0-range.duplicate().moveStart('character',-100000)\nend=begin+range.text.length}return{begin:begin,end:end}}}\nInputmask.prototype.seekNext=function(pos){var len=this.mask.length\nwhile(++pos<=len&&!this.tests[pos]);return pos}\nInputmask.prototype.seekPrev=function(pos){while(--pos>=0&&!this.tests[pos]);return pos}\nInputmask.prototype.shiftL=function(begin,end){var len=this.mask.length\nif(begin<0)return\nfor(var i=begin,j=this.seekNext(end);i<len;i++){if(this.tests[i]){if(j<len&&this.tests[i].test(this.buffer[j])){this.buffer[i]=this.buffer[j]\nthis.buffer[j]=this.options.placeholder}else\nbreak\nj=this.seekNext(j)}}this.writeBuffer()\nthis.caret(Math.max(this.firstNonMaskPos,begin))}\nInputmask.prototype.shiftR=function(pos){var len=this.mask.length\nfor(var i=pos,c=this.options.placeholder;i<len;i++){if(this.tests[i]){var j=this.seekNext(i)\nvar t=this.buffer[i]\nthis.buffer[i]=c\nif(j<len&&this.tests[j].test(t))c=t\nelse\nbreak}}},Inputmask.prototype.unmask=function(){this.$element.unbind(\".mask\").removeData(\"inputmask\")}\nInputmask.prototype.focusEvent=function(){this.focusText=this.$element.val()\nvar len=this.mask.length\nvar pos=this.checkVal()\nthis.writeBuffer()\nvar that=this\nvar moveCaret=function(){if(pos==len)that.caret(0,pos)\nelse\nthat.caret(pos)}\nmoveCaret()\nsetTimeout(moveCaret,50)}\nInputmask.prototype.blurEvent=function(){this.checkVal()\nif(this.$element.val()!==this.focusText)this.$element.trigger('change')}\nInputmask.prototype.keydownEvent=function(e){var k=e.which\nif(k==8||k==46||(isIphone&&k==127)){var pos=this.caret(),begin=pos.begin,end=pos.end\nif(end-begin===0){begin=k!=46?this.seekPrev(begin):(end=this.seekNext(begin-1))\nend=k==46?this.seekNext(end):end}this.clearBuffer(begin,end)\nthis.shiftL(begin,end-1)\nreturn false}else if(k==27){this.$element.val(this.focusText)\nthis.caret(0,this.checkVal())\nreturn false}}\nInputmask.prototype.keypressEvent=function(e){var len=this.mask.length\nvar k=e.which,pos=this.caret()\nif(e.ctrlKey||e.altKey||e.metaKey||k<32){return true}else if(k){if(pos.end-pos.begin!==0){this.clearBuffer(pos.begin,pos.end)\nthis.shiftL(pos.begin,pos.end-1)}var p=this.seekNext(pos.begin-1)\nif(p<len){var c=String.fromCharCode(k)\nif(this.tests[p].test(c)){this.shiftR(p)\nthis.buffer[p]=c\nthis.writeBuffer()\nvar next=this.seekNext(p)\nthis.caret(next)}}return false}}\nInputmask.prototype.pasteEvent=function(){var that=this\nsetTimeout(function(){that.caret(that.checkVal(true))},0)}\nInputmask.prototype.clearBuffer=function(start,end){var len=this.mask.length\nfor(var i=start;i<end&&i<len;i++){if(this.tests[i])this.buffer[i]=this.options.placeholder}}\nInputmask.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join('')).val()}\nInputmask.prototype.checkVal=function(allow){var len=this.mask.length\nvar test=this.$element.val()\nvar lastMatch=-1\nfor(var i=0,pos=0;i<len;i++){if(this.tests[i]){this.buffer[i]=this.options.placeholder\nwhile(pos++<test.length){var c=test.charAt(pos-1)\nif(this.tests[i].test(c)){this.buffer[i]=c\nlastMatch=i\nbreak}}if(pos>test.length)break}else if(this.buffer[i]==test.charAt(pos)&&i!=this.partialPosition){pos++\nlastMatch=i}}if(!allow&&lastMatch+1<this.partialPosition){this.$element.val(\"\")\nthis.clearBuffer(0,len)}else if(allow||lastMatch+1>=this.partialPosition){this.writeBuffer()\nif(!allow)this.$element.val(this.$element.val().substring(0,lastMatch+1))}return(this.partialPosition?i:this.firstNonMaskPos)}\nvar old=$.fn.inputmask\n$.fn.inputmask=function(options){return this.each(function(){var $this=$(this)\nvar data=$this.data('bs.inputmask')\nif(!data)$this.data('bs.inputmask',(data=new Inputmask(this,options)))})}\n$.fn.inputmask.Constructor=Inputmask\n$.fn.inputmask.noConflict=function(){$.fn.inputmask=old\nreturn this}\n$(document).on('focus.bs.inputmask.data-api','[data-mask]',function(e){var $this=$(this)\nif($this.data('bs.inputmask'))return\n$this.inputmask($this.data())})}(window.jQuery);+function($){\"use strict\";var isIE=window.navigator.appName=='Microsoft Internet Explorer'\nvar Fileinput=function(element,options){this.$element=$(element)\nthis.$input=this.$element.find(':file')\nif(this.$input.length===0)return\nthis.name=this.$input.attr('name')||options.name\nthis.$hidden=this.$element.find('input[type=hidden][name=\"'+this.name+'\"]')\nif(this.$hidden.length===0){this.$hidden=$('<input type=\"hidden\">').insertBefore(this.$input)}this.$preview=this.$element.find('.fileinput-preview')\nvar height=this.$preview.css('height')\nif(this.$preview.css('display')!=='inline'&&height!=='0px'&&height!=='none'){this.$preview.css('line-height',height)}this.original={exists:this.$element.hasClass('fileinput-exists'),preview:this.$preview.html(),hiddenVal:this.$hidden.val()}\nthis.listen()}\nFileinput.prototype.listen=function(){this.$input.on('change.bs.fileinput',$.proxy(this.change,this))\n$(this.$input[0].form).on('reset.bs.fileinput',$.proxy(this.reset,this))\nthis.$element.find('[data-trigger=\"fileinput\"]').on('click.bs.fileinput',$.proxy(this.trigger,this))\nthis.$element.find('[data-dismiss=\"fileinput\"]').on('click.bs.fileinput',$.proxy(this.clear,this))},Fileinput.prototype.change=function(e){var files=e.target.files===undefined?(e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\\\/,'')}]:[]):e.target.files\ne.stopPropagation()\nif(files.length===0){this.clear()\nreturn}this.$hidden.val('')\nthis.$hidden.attr('name','')\nthis.$input.attr('name',this.name)\nvar file=files[0]\nif(this.$preview.length>0&&(typeof file.type!==\"undefined\"?file.type.match(/^image\\/(gif|png|jpeg)$/):file.name.match(/\\.(gif|png|jpe?g)$/i))&&typeof FileReader!==\"undefined\"){var reader=new FileReader()\nvar preview=this.$preview\nvar element=this.$element\nreader.onload=function(re){var $img=$('<img>')\n$img[0].src=re.target.result\nfiles[0].result=re.target.result\nelement.find('.fileinput-filename').text(file.name)\nif(preview.css('max-height')!='none')$img.css('max-height',parseInt(preview.css('max-height'),10)-parseInt(preview.css('padding-top'),10)-parseInt(preview.css('padding-bottom'),10)-parseInt(preview.css('border-top'),10)-parseInt(preview.css('border-bottom'),10))\npreview.html($img)\nelement.addClass('fileinput-exists').removeClass('fileinput-new')\nelement.trigger('change.bs.fileinput',files)}\nreader.readAsDataURL(file)}else{this.$element.find('.fileinput-filename').text(file.name)\nthis.$preview.text(file.name)\nthis.$element.addClass('fileinput-exists').removeClass('fileinput-new')\nthis.$element.trigger('change.bs.fileinput')}},Fileinput.prototype.clear=function(e){if(e)e.preventDefault()\nthis.$hidden.val('')\nthis.$hidden.attr('name',this.name)\nthis.$input.attr('name','')\nif(isIE){var inputClone=this.$input.clone(true);this.$input.after(inputClone);this.$input.remove();this.$input=inputClone;}else{this.$input.val('')}this.$preview.html('')\nthis.$element.find('.fileinput-filename').text('')\nthis.$element.addClass('fileinput-new').removeClass('fileinput-exists')\nif(e!==undefined){this.$input.trigger('change')\nthis.$element.trigger('clear.bs.fileinput')}},Fileinput.prototype.reset=function(){this.clear()\nthis.$hidden.val(this.original.hiddenVal)\nthis.$preview.html(this.original.preview)\nthis.$element.find('.fileinput-filename').text('')\nif(this.original.exists)this.$element.addClass('fileinput-exists').removeClass('fileinput-new')\nelse this.$element.addClass('fileinput-new').removeClass('fileinput-exists')\nthis.$element.trigger('reseted.bs.fileinput')},Fileinput.prototype.trigger=function(e){this.$input.trigger('click')\ne.preventDefault()}\nvar old=$.fn.fileinput\n$.fn.fileinput=function(options){return this.each(function(){var $this=$(this),data=$this.data('bs.fileinput')\nif(!data)$this.data('bs.fileinput',(data=new Fileinput(this,options)))\nif(typeof options=='string')data[options]()})}\n$.fn.fileinput.Constructor=Fileinput\n$.fn.fileinput.noConflict=function(){$.fn.fileinput=old\nreturn this}\n$(document).on('click.fileinput.data-api','[data-provides=\"fileinput\"]',function(e){var $this=$(this)\nif($this.data('bs.fileinput'))return\n$this.fileinput($this.data())\nvar $target=$(e.target).closest('[data-dismiss=\"fileinput\"],[data-trigger=\"fileinput\"]');if($target.length>0){e.preventDefault()\n$target.trigger('click.bs.fileinput')}})}(window.jQuery);";
var mod_pagespeed_nXusIBwohm = "var Holder=Holder||{};(function(app,win){var system_config={use_svg:false,use_canvas:false,use_fallback:false};var instance_config={};var preempted=false;canvas=document.createElement('canvas');var dpr=1,bsr=1;var resizable_images=[];if(!canvas.getContext){system_config.use_fallback=true;}else{if(canvas.toDataURL(\"image/png\").indexOf(\"data:image/png\")<0){system_config.use_fallback=true;}else{var ctx=canvas.getContext(\"2d\");}}if(!!document.createElementNS&&!!document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect){system_config.use_svg=true;system_config.use_canvas=false;}if(!system_config.use_fallback){dpr=window.devicePixelRatio||1,bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;}var ratio=dpr/bsr;var settings={domain:\"holder.js\",images:\"img\",bgnodes:\".holderjs\",themes:{\"gray\":{background:\"#eee\",foreground:\"#aaa\",size:12},\"social\":{background:\"#3a5a97\",foreground:\"#fff\",size:12},\"industrial\":{background:\"#434A52\",foreground:\"#C2F200\",size:12},\"sky\":{background:\"#0D8FDB\",foreground:\"#fff\",size:12},\"vine\":{background:\"#39DBAC\",foreground:\"#1E292C\",size:12},\"lava\":{background:\"#F8591A\",foreground:\"#1C2846\",size:12}},stylesheet:\"\"};app.flags={dimensions:{regex:/^(\\d+)x(\\d+)$/,output:function(val){var exec=this.regex.exec(val);return{width:+exec[1],height:+exec[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(val){var exec=this.regex.exec(val);return{width:exec[1],height:exec[2]}}},colors:{regex:/#([0-9a-f]{3,})\\:#([0-9a-f]{3,})/i,output:function(val){var exec=this.regex.exec(val);return{size:settings.themes.gray.size,foreground:\"#\"+exec[2],background:\"#\"+exec[1]}}},text:{regex:/text\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}},font:{regex:/font\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}},auto:{regex:/^auto$/},textmode:{regex:/textmode\\:(.*)/,output:function(val){return this.regex.exec(val)[1];}}}\nfunction text_size(width,height,template){height=parseInt(height,10);width=parseInt(width,10);var bigSide=Math.max(height,width)\nvar smallSide=Math.min(height,width)\nvar scale=1/12;var newHeight=Math.min(smallSide*0.75,0.75*bigSide*scale);return{height:Math.round(Math.max(template.size,newHeight))}}var svg_el=(function(){if(!window.XMLSerializer)return;var serializer=new XMLSerializer();var svg_ns=\"http://www.w3.org/2000/svg\"\nvar svg=document.createElementNS(svg_ns,\"svg\");if(svg.webkitMatchesSelector){svg.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\")}var bg_el=document.createElementNS(svg_ns,\"rect\")\nvar text_el=document.createElementNS(svg_ns,\"text\")\nvar textnode_el=document.createTextNode(null)\ntext_el.setAttribute(\"text-anchor\",\"middle\")\ntext_el.appendChild(textnode_el)\nsvg.appendChild(bg_el)\nsvg.appendChild(text_el)\nreturn function(props){svg.setAttribute(\"width\",props.width);svg.setAttribute(\"height\",props.height);bg_el.setAttribute(\"width\",props.width);bg_el.setAttribute(\"height\",props.height);bg_el.setAttribute(\"fill\",props.template.background);text_el.setAttribute(\"x\",props.width/2)\ntext_el.setAttribute(\"y\",props.height/2)\ntextnode_el.nodeValue=props.text\ntext_el.setAttribute(\"style\",css_properties({\"fill\":props.template.foreground,\"font-weight\":\"bold\",\"font-size\":props.text_height+\"px\",\"font-family\":props.font,\"dominant-baseline\":\"central\"}))\nreturn serializer.serializeToString(svg)}})()\nfunction css_properties(props){var ret=[];for(p in props){if(props.hasOwnProperty(p)){ret.push(p+\":\"+props[p])}}return ret.join(\";\")}function draw_canvas(args){var ctx=args.ctx,dimensions=args.dimensions,template=args.template,ratio=args.ratio,holder=args.holder,literal=holder.textmode==\"literal\",exact=holder.textmode==\"exact\";var ts=text_size(dimensions.width,dimensions.height,template);var text_height=ts.height;var width=dimensions.width*ratio,height=dimensions.height*ratio;var font=template.font?template.font:\"Arial,Helvetica,sans-serif\";canvas.width=width;canvas.height=height;ctx.textAlign=\"center\";ctx.textBaseline=\"middle\";ctx.fillStyle=template.background;ctx.fillRect(0,0,width,height);ctx.fillStyle=template.foreground;ctx.font=\"bold \"+text_height+\"px \"+font;var text=template.text?template.text:(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));if(literal){var dimensions=holder.dimensions;text=dimensions.width+\"x\"+dimensions.height;}else if(exact&&holder.exact_dimensions){var dimensions=holder.exact_dimensions;text=(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));}var text_width=ctx.measureText(text).width;if(text_width/width>=0.75){text_height=Math.floor(text_height*0.75*(width/text_width));}ctx.font=\"bold \"+(text_height*ratio)+\"px \"+font;ctx.fillText(text,(width/2),(height/2),width);return canvas.toDataURL(\"image/png\");}function draw_svg(args){var dimensions=args.dimensions,template=args.template,holder=args.holder,literal=holder.textmode==\"literal\",exact=holder.textmode==\"exact\";var ts=text_size(dimensions.width,dimensions.height,template);var text_height=ts.height;var width=dimensions.width,height=dimensions.height;var font=template.font?template.font:\"Arial,Helvetica,sans-serif\";var text=template.text?template.text:(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));if(literal){var dimensions=holder.dimensions;text=dimensions.width+\"x\"+dimensions.height;}else if(exact&&holder.exact_dimensions){var dimensions=holder.exact_dimensions;text=(Math.floor(dimensions.width)+\"x\"+Math.floor(dimensions.height));}var string=svg_el({text:text,width:width,height:height,text_height:text_height,font:font,template:template})\nreturn\"data:image/svg+xml;base64,\"+btoa(unescape(encodeURIComponent(string)));}function draw(args){if(instance_config.use_canvas&&!instance_config.use_svg){return draw_canvas(args);}else{return draw_svg(args);}}function render(mode,el,holder,src){var dimensions=holder.dimensions,theme=holder.theme,text=holder.text?decodeURIComponent(holder.text):holder.text;var dimensions_caption=dimensions.width+\"x\"+dimensions.height;theme=(text?extend(theme,{text:text}):theme);theme=(holder.font?extend(theme,{font:holder.font}):theme);el.setAttribute(\"data-src\",src);holder.theme=theme;el.holder_data=holder;if(mode==\"image\"){el.setAttribute(\"alt\",text?text:theme.text?theme.text+\" [\"+dimensions_caption+\"]\":dimensions_caption);if(instance_config.use_fallback||!holder.auto){el.style.width=dimensions.width+\"px\";el.style.height=dimensions.height+\"px\";}if(instance_config.use_fallback){el.style.backgroundColor=theme.background;}else{el.setAttribute(\"src\",draw({ctx:ctx,dimensions:dimensions,template:theme,ratio:ratio,holder:holder}));if(holder.textmode&&holder.textmode==\"exact\"){resizable_images.push(el);resizable_update(el);}}}else if(mode==\"background\"){if(!instance_config.use_fallback){el.style.backgroundImage=\"url(\"+draw({ctx:ctx,dimensions:dimensions,template:theme,ratio:ratio,holder:holder})+\")\";el.style.backgroundSize=dimensions.width+\"px \"+dimensions.height+\"px\";}}else if(mode==\"fluid\"){el.setAttribute(\"alt\",text?text:theme.text?theme.text+\" [\"+dimensions_caption+\"]\":dimensions_caption);if(dimensions.height.slice(-1)==\"%\"){el.style.height=dimensions.height}else if(holder.auto==null||!holder.auto){el.style.height=dimensions.height+\"px\"}if(dimensions.width.slice(-1)==\"%\"){el.style.width=dimensions.width}else if(holder.auto==null||!holder.auto){el.style.width=dimensions.width+\"px\"}if(el.style.display==\"inline\"||el.style.display===\"\"||el.style.display==\"none\"){el.style.display=\"block\";}set_initial_dimensions(el)\nif(instance_config.use_fallback){el.style.backgroundColor=theme.background;}else{resizable_images.push(el);resizable_update(el);}}}function dimension_check(el,callback){var dimensions={height:el.clientHeight,width:el.clientWidth};if(!dimensions.height&&!dimensions.width){el.setAttribute(\"data-holder-invisible\",true)\ncallback.call(this,el)}else{el.removeAttribute(\"data-holder-invisible\")\nreturn dimensions;}}function set_initial_dimensions(el){if(el.holder_data){var dimensions=dimension_check(el,app.invisible_error_fn(set_initial_dimensions))\nif(dimensions){var holder=el.holder_data;holder.initial_dimensions=dimensions;holder.fluid_data={fluid_height:holder.dimensions.height.slice(-1)==\"%\",fluid_width:holder.dimensions.width.slice(-1)==\"%\",mode:null}\nif(holder.fluid_data.fluid_width&&!holder.fluid_data.fluid_height){holder.fluid_data.mode=\"width\"\nholder.fluid_data.ratio=holder.initial_dimensions.width/parseFloat(holder.dimensions.height)}else if(!holder.fluid_data.fluid_width&&holder.fluid_data.fluid_height){holder.fluid_data.mode=\"height\";holder.fluid_data.ratio=parseFloat(holder.dimensions.width)/holder.initial_dimensions.height}}}}function resizable_update(element){var images;if(element.nodeType==null){images=resizable_images;}else{images=[element]}for(var i in images){if(!images.hasOwnProperty(i)){continue;}var el=images[i]\nif(el.holder_data){var holder=el.holder_data;var dimensions=dimension_check(el,app.invisible_error_fn(resizable_update))\nif(dimensions){if(holder.fluid){if(holder.auto){switch(holder.fluid_data.mode){case\"width\":dimensions.height=dimensions.width/holder.fluid_data.ratio;break;case\"height\":dimensions.width=dimensions.height*holder.fluid_data.ratio;break;}}el.setAttribute(\"src\",draw({ctx:ctx,dimensions:dimensions,template:holder.theme,ratio:ratio,holder:holder}))}if(holder.textmode&&holder.textmode==\"exact\"){holder.exact_dimensions=dimensions;el.setAttribute(\"src\",draw({ctx:ctx,dimensions:holder.dimensions,template:holder.theme,ratio:ratio,holder:holder}))}}}}}function parse_flags(flags,options){var ret={theme:extend(settings.themes.gray,{})};var render=false;for(var fl=flags.length,j=0;j<fl;j++){var flag=flags[j];if(app.flags.dimensions.match(flag)){render=true;ret.dimensions=app.flags.dimensions.output(flag);}else if(app.flags.fluid.match(flag)){render=true;ret.dimensions=app.flags.fluid.output(flag);ret.fluid=true;}else if(app.flags.textmode.match(flag)){ret.textmode=app.flags.textmode.output(flag)}else if(app.flags.colors.match(flag)){ret.theme=app.flags.colors.output(flag);}else if(options.themes[flag]){if(options.themes.hasOwnProperty(flag)){ret.theme=extend(options.themes[flag],{});}}else if(app.flags.font.match(flag)){ret.font=app.flags.font.output(flag);}else if(app.flags.auto.match(flag)){ret.auto=true;}else if(app.flags.text.match(flag)){ret.text=app.flags.text.output(flag);}}return render?ret:false;}for(var flag in app.flags){if(!app.flags.hasOwnProperty(flag))continue;app.flags[flag].match=function(val){return val.match(this.regex)}}app.invisible_error_fn=function(fn){return function(el){if(el.hasAttribute(\"data-holder-invisible\")){throw new Error(\"Holder: invisible placeholder\")}}}\napp.add_theme=function(name,theme){name!=null&&theme!=null&&(settings.themes[name]=theme);return app;};app.add_image=function(src,el){var node=selector(el);if(node.length){for(var i=0,l=node.length;i<l;i++){var img=document.createElement(\"img\")\nimg.setAttribute(\"data-src\",src);node[i].appendChild(img);}}return app;};app.run=function(o){instance_config=extend({},system_config)\npreempted=true;var options=extend(settings,o),images=[],imageNodes=[],bgnodes=[];if(options.use_canvas!=null&&options.use_canvas){instance_config.use_canvas=true;instance_config.use_svg=false;}if(typeof(options.images)==\"string\"){imageNodes=selector(options.images);}else if(window.NodeList&&options.images instanceof window.NodeList){imageNodes=options.images;}else if(window.Node&&options.images instanceof window.Node){imageNodes=[options.images];}else if(window.HTMLCollection&&options.images instanceof window.HTMLCollection){imageNodes=options.images}if(typeof(options.bgnodes)==\"string\"){bgnodes=selector(options.bgnodes);}else if(window.NodeList&&options.elements instanceof window.NodeList){bgnodes=options.bgnodes;}else if(window.Node&&options.bgnodes instanceof window.Node){bgnodes=[options.bgnodes];}for(i=0,l=imageNodes.length;i<l;i++)images.push(imageNodes[i]);var holdercss=document.getElementById(\"holderjs-style\");if(!holdercss){holdercss=document.createElement(\"style\");holdercss.setAttribute(\"id\",\"holderjs-style\");holdercss.type=\"text/css\";document.getElementsByTagName(\"head\")[0].appendChild(holdercss);}if(!options.nocss){if(holdercss.styleSheet){holdercss.styleSheet.cssText+=options.stylesheet;}else{if(options.stylesheet.length){holdercss.appendChild(document.createTextNode(options.stylesheet));}}}var cssregex=new RegExp(options.domain+\"\\/(.*?)\\\"?\\\\)\");for(var l=bgnodes.length,i=0;i<l;i++){var src=window.getComputedStyle(bgnodes[i],null).getPropertyValue(\"background-image\");var flags=src.match(cssregex);var bgsrc=bgnodes[i].getAttribute(\"data-background-src\");if(flags){var holder=parse_flags(flags[1].split(\"/\"),options);if(holder){render(\"background\",bgnodes[i],holder,src);}}else if(bgsrc!=null){var holder=parse_flags(bgsrc.substr(bgsrc.lastIndexOf(options.domain)+options.domain.length+1).split(\"/\"),options);if(holder){render(\"background\",bgnodes[i],holder,src);}}}for(l=images.length,i=0;i<l;i++){var attr_data_src,attr_src;attr_src=attr_data_src=src=null;try{attr_src=images[i].getAttribute(\"src\");attr_datasrc=images[i].getAttribute(\"data-src\");}catch(e){}if(attr_datasrc==null&&!!attr_src&&attr_src.indexOf(options.domain)>=0){src=attr_src;}else if(!!attr_datasrc&&attr_datasrc.indexOf(options.domain)>=0){src=attr_datasrc;}if(src){var holder=parse_flags(src.substr(src.lastIndexOf(options.domain)+options.domain.length+1).split(\"/\"),options);if(holder){if(holder.fluid){render(\"fluid\",images[i],holder,src)}else{render(\"image\",images[i],holder,src);}}}}return app;};contentLoaded(win,function(){if(window.addEventListener){window.addEventListener(\"resize\",resizable_update,false);window.addEventListener(\"orientationchange\",resizable_update,false);}else{window.attachEvent(\"onresize\",resizable_update)}preempted||app.run({});if(typeof window.Turbolinks===\"object\"){document.addEventListener(\"page:change\",function(){app.run({})})}});if(typeof define===\"function\"&&define.amd){define([],function(){return app;});}(function(){function t(t){this.message=t}var e=\"undefined\"!=typeof exports?exports:this,r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";t.prototype=Error(),t.prototype.name=\"InvalidCharacterError\",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c=\"\";e.charAt(0|a)||(i=\"=\",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=.75),n>255)throw new t(\"'btoa' failed\");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,\"\"),1==e.length%4)throw new t(\"'atob' failed\");for(var o,n,a=0,i=0,c=\"\";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0)n=r.indexOf(n);return c})})();document.getElementsByClassName||(document.getElementsByClassName=function(e){var t=document,n,r,i,s=[];if(t.querySelectorAll)return t.querySelectorAll(\".\"+e);if(t.evaluate){r=\".//*[contains(concat(' ', @class, ' '), ' \"+e+\" ')]\",n=t.evaluate(r,t,null,0,null);while(i=n.iterateNext())s.push(i)}else{n=t.getElementsByTagName(\"*\"),r=new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\");for(i=0;i<n.length;i++)r.test(n[i].className)&&s.push(n[i])}return s})\nwindow.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\\-([a-z]){1})/g;return t==\"float\"&&(t=\"styleFloat\"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this})\nfunction contentLoaded(n,t){var l=\"complete\",s=\"readystatechange\",u=!1,h=u,c=!0,i=n.document,a=i.documentElement,e=i.addEventListener?\"addEventListener\":\"attachEvent\",v=i.addEventListener?\"removeEventListener\":\"detachEvent\",f=i.addEventListener?\"\":\"on\",r=function(e){(e.type!=s||i.readyState==l)&&((e.type==\"load\"?n:i)[v](f+e.type,r,u),!h&&(h=!0)&&t.call(n,null))},o=function(){try{a.doScroll(\"left\")}catch(n){setTimeout(o,50);return}r(\"poll\")};if(i.readyState==l)t.call(n,\"lazy\");else{if(i.createEventObject&&a.doScroll){try{c=!n.frameElement}catch(y){}c&&o()}i[e](f+\"DOMContentLoaded\",r,u),i[e](f+s,r,u),n[e](f+\"load\",r,u)}}function selector(a,b){var a=a.match(/^(\\W)?(.*)/),b=b||document,c=b[\"getElement\"+(a[1]?\"#\"==a[1]?\"ById\":\"sByClassName\":\"sByTagName\")],d=c.call(b,a[2]),e=[];return null!==d&&(e=d.length||0===d.length?d:[d]),e}function extend(a,b){var c={};for(var i in a){if(a.hasOwnProperty(i)){c[i]=a[i];}}for(var i in b){if(b.hasOwnProperty(i)){c[i]=b[i];}}return c}if(!Object.prototype.hasOwnProperty)Object.prototype.hasOwnProperty=function(prop){var proto=this.__proto__||this.constructor.prototype;return(prop in this)&&(!(prop in proto)||proto[prop]!==this[prop]);}})(Holder,window);";
